<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qual √© o seu Arqu√©tipo de Hoje?</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a playful look -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to enhance the BuzzFeed look and feel */
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f7fafc;
        }
        .quiz-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .question-card {
            border-bottom: 2px solid #f0f0f0;
            padding: 2rem 1rem;
            transition: background-color 0.3s;
        }
        .question-card:last-child {
            border-bottom: none;
        }
        .question-options {
            gap: 0.5rem; /* Spacing between buttons */
        }
        .option-btn {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s, background-color 0.2s;
            border-radius: 12px;
            padding: 0.75rem 0.25rem;
            width: 100px;
            min-height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f3f4f6;
            border: 2px solid transparent;
            text-align: center;
            font-weight: 700;
            color: #4b5563;
            cursor: pointer;
        }
        .option-btn .emoji {
            font-size: 2.25rem;
            line-height: 1;
            margin-bottom: 0.5rem;
        }
        .option-btn .text {
            font-size: 0.875rem;
            line-height: 1.2;
        }
        .option-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.07);
        }
        .option-btn.selected {
            border-color: #4f46e5;
            background-color: #eef2ff;
            transform: translateY(-4px) scale(1.05);
            box-shadow: 0 0 15px rgba(79, 70, 229, 0.4);
            color: #4f46e5;
        }
        .question-options .option-btn:not(.selected).answered {
            opacity: 0.6;
            transform: scale(0.95);
            box-shadow: none;
            cursor: not-allowed;
        }
        .result-btn {
            background: linear-gradient(45deg, #6d28d9, #be185d);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .result-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }
        .result-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            opacity: 0.7;
        }
        #result-modal {
            background-color: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
        }
        /* New, specific style for bonus buttons for better readability */
        .bonus-btn {
            background: linear-gradient(45deg, #6d28d9, #be185d);
            color: white;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .bonus-btn:hover {
             transform: translateY(-4px) scale(1.05);
            box-shadow: 0 6px 20px rgba(99, 41, 158, 0.4);
        }
    </style>
</head>
<body class="bg-indigo-50 min-h-screen flex items-center justify-center p-4">

    <div id="quiz-app" class="quiz-container max-w-2xl w-full mx-auto">
        <!-- Quiz Header -->
        <div class="p-6 text-center bg-gradient-to-r from-purple-600 to-pink-600 text-white">
            <h1 class="text-3xl md:text-4xl font-black">Qual √© o seu Arqu√©tipo de Hoje?</h1>
            <p class="mt-2 text-lg">Responda 12 perguntas e descubra sua vibe do dia!</p>
        </div>

        <!-- Questions Area -->
        <div id="questions-container" class="p-2 sm:p-4"></div>

        <!-- Submission Button -->
        <div class="p-6 text-center">
            <button id="submit-btn" disabled class="result-btn text-white font-bold py-3 px-10 rounded-full text-xl shadow-lg">
                Ver meu resultado!
            </button>
            <p id="progress-text" class="text-gray-500 mt-3 text-sm">Responda todas as perguntas para liberar.</p>
        </div>
    </div>

    <!-- Result Modal -->
    <div id="result-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full p-8 text-center transform transition-all scale-95 opacity-0" id="modal-content-wrapper">
            <!-- Final Result View -->
            <div id="final-result-view">
                <p class="text-2xl font-bold text-gray-500">Seu arqu√©tipo de hoje √©...</p>
                <h2 id="archetype-title" class="text-5xl font-black my-4 bg-clip-text text-transparent bg-gradient-to-r from-purple-600 to-pink-600"></h2>
                <p id="archetype-emoji" class="text-7xl my-4"></p>
                <p id="archetype-description" class="text-lg text-gray-700 leading-relaxed"></p>
                <div class="mt-6 text-left">
                    <h4 class="font-bold text-center mb-2">Sua pontua√ß√£o completa:</h4>
                    <div id="score-details" class="text-gray-600 grid grid-cols-2 gap-x-4 gap-y-1"></div>
                </div>
                <p id="tie-note" class="text-sm text-gray-500 mt-4 italic hidden">Houve um empate! O resultado mostra um dos seus arqu√©tipos dominantes. Sinta qual deles mais ressoa com voc√™ hoje!</p>
                <button onclick="restartQuiz()" class="mt-8 bg-indigo-600 text-white font-bold py-3 px-8 rounded-full hover:bg-indigo-700 transition-colors">
                    Fazer o teste de novo
                </button>
            </div>
            <!-- Bonus Question View -->
            <div id="bonus-question-view" class="hidden">
                <h2 class="text-2xl md:text-3xl font-black text-gray-800">Quase l√°!</h2>
                <p class="text-lg text-gray-600 my-4">Tivemos um empate. Para desempatar, responda:<br>Hoje voc√™ se sente mais...</p>
                <div id="bonus-options-container" class="mt-6 flex flex-col sm:flex-row justify-center gap-4">
                    <!-- Bonus options will be injected here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA ---
        const archetypeMap = { 'üå∏': 'Inocente', 'üß≠': 'Explorador', 'üìñ': 'S√°bio', 'üõ°Ô∏è': 'Her√≥i', 'üíÄ': 'Fora-da-lei', 'üîÆ': 'M√°gico', 'üë•': 'Pessoa-comum', '‚ù§Ô∏è': 'Amante', 'ü§°': 'Bobo-da-corte', 'ü§ù': 'Cuidador', 'üé®': 'Criador', 'üëë': 'Regente' };
        const descriptions = { 'Inocente': "Seu perfil de hoje √© o Inocente! Voc√™ est√° sentindo uma vibe de pureza, otimismo e simplicidade. √â um √≥timo dia para criar conte√∫do leve, que traga um sorriso ao rosto das pessoas e espalhe boas energias.", 'Explorador': "Seu perfil de hoje √© o Explorador! A aventura te chama! Seu esp√≠rito anseia por novas experi√™ncias e descobertas. Que tal um vlog explorando um lugar novo ou testando um novo hobby?", 'S√°bio': "Seu perfil de hoje √© o S√°bio! A busca por conhecimento e verdade est√° em alta. √â o dia perfeito para compartilhar uma dica valiosa, um tutorial detalhado ou uma reflex√£o profunda.", 'Her√≥i': "Seu perfil de hoje √© o Her√≥i! Com coragem e determina√ß√£o, voc√™ est√° pronto para superar desafios. Inspire sua audi√™ncia com sua jornada de supera√ß√£o, mostre sua disciplina ou defenda uma causa.", 'Fora-da-lei': "Seu perfil de hoje √© o Fora-da-lei! Rebelde e disruptivo, voc√™ est√° aqui para quebrar as regras. √â hora de questionar o status quo, usar o humor √°cido ou falar sobre temas tabu.", 'M√°gico': "Seu perfil de hoje √© o M√°gico! A transforma√ß√£o est√° no ar. Use sua criatividade para encantar e surpreender. Tutoriais de 'antes e depois', truques de edi√ß√£o ou conte√∫do vision√°rio s√£o a pedida.", 'Pessoa-comum': "Seu perfil de hoje √© a Pessoa-comum! A conex√£o e a autenticidade s√£o tudo. Mostre sua rotina, compartilhe suas experi√™ncias do dia a dia e crie um conte√∫do com o qual todos possam se identificar.", 'Amante': "Seu perfil de hoje √© o Amante! Paix√£o, intimidade e aprecia√ß√£o pela beleza definem seu dia. Fale sobre seus relacionamentos, seus hobbies favoritos ou crie um conte√∫do esteticamente prazeroso.", 'Bobo-da-corte': "Seu perfil de hoje √© o Bobo-da-corte! Viver o momento e espalhar alegria √© sua miss√£o. Sketches de humor, v√≠deos divertidos e memes s√£o o caminho para alegrar o dia de todos.", 'Cuidador': "Seu perfil de hoje √© o Cuidador! Generosidade e empatia est√£o em primeiro plano. Ofere√ßa apoio, d√™ conselhos √∫teis ou crie um conte√∫do que fa√ßa sua audi√™ncia se sentir acolhida e cuidada.", 'Criador': "Seu perfil de hoje √© o Criador! A imagina√ß√£o e a inova√ß√£o est√£o borbulhando. Coloque a m√£o na massa! Fa√ßa um DIY, mostre seu processo criativo ou construa algo do zero.", 'Regente': "Seu perfil de hoje √© o Regente! Lideran√ßa, controle e excel√™ncia s√£o as palavras-chave. Organize algo, compartilhe dicas de produtividade ou crie um conte√∫do que demonstre autoridade e confian√ßa." };
        const briefDescriptions = { 'Inocente': 'Puro e otimista', 'Explorador': 'Aventureiro e livre', 'S√°bio': 'S√°bio e reflexivo', 'Her√≥i': 'Corajoso e determinado', 'Fora-da-lei': 'Rebelde e questionador', 'M√°gico': 'Vision√°rio e transformador', 'Pessoa-comum': 'Aut√™ntico e conectado', 'Amante': 'Apaixonado e intenso', 'Bobo-da-corte': 'Divertido e espont√¢neo', 'Cuidador': 'Generoso e emp√°tico', 'Criador': 'Inovador e imaginativo', 'Regente': 'L√≠der e confiante' };
        const proximityMap = { 'Inocente': ['Amante', 'Explorador'], 'Explorador': ['Fora-da-lei', 'Inocente'], 'S√°bio': ['M√°gico', 'Cuidador'], 'Her√≥i': ['Criador', 'Fora-da-lei'], 'Fora-da-lei': ['Explorador', 'Her√≥i'], 'M√°gico': ['S√°bio', 'Criador'], 'Pessoa-comum': ['Cuidador', 'Amante'], 'Amante': ['Inocente', 'Pessoa-comum'], 'Bobo-da-corte': ['Explorador', 'Criador'], 'Cuidador': ['Pessoa-comum', 'S√°bio'], 'Criador': ['Her√≥i', 'M√°gico'], 'Regente': ['Amante', 'Fora-da-lei'] };
        const questions = [ { text: "O que te inspira ao acordar?", options: [ { emoji: 'üå∏', text: 'Simplicidade' }, { emoji: 'üß≠', text: 'Aventura' }, { emoji: 'üìñ', text: 'Conhecimento' }, { emoji: 'üõ°Ô∏è', text: 'Supera√ß√£o' } ] }, { text: "Onde voc√™ prefere canalizar sua energia hoje?", options: [ { emoji: 'üíÄ', text: 'Quebrar Regras' }, { emoji: 'üîÆ', text: 'Transformar' }, { emoji: 'üë•', text: 'Conectar' }, { emoji: '‚ù§Ô∏è', text: 'Sentir Paix√£o' } ] }, { text: "Qual papel voc√™ sente vontade de assumir agora?", options: [ { emoji: 'ü§°', text: 'O Divertido' }, { emoji: 'ü§ù', text: 'O Apoiador' }, { emoji: 'üé®', text: 'O Inventor' }, { emoji: 'üëë', text: 'O L√≠der' } ] }, { text: "O que faria seu dia mais leve?", options: [ { emoji: 'üå∏', text: 'Coisas Simples' }, { emoji: 'üîÆ', text: 'Um Toque de Magia' }, { emoji: 'üë•', text: 'Pessoas Reais' }, { emoji: 'üõ°Ô∏è', text: 'Vencer Desafios' } ] }, { text: "Como voc√™ quer interagir com sua audi√™ncia hoje?", options: [ { emoji: 'üß≠', text: 'Explorando' }, { emoji: 'üìñ', text: 'Ensinando' }, { emoji: '‚ù§Ô∏è', text: 'Com Afeto' }, { emoji: 'ü§°', text: 'Fazendo Rir' } ] }, { text: "Que tom de conte√∫do combina com seu humor atual?", options: [ { emoji: 'üíÄ', text: 'Provocador' }, { emoji: 'ü§ù', text: 'Acolhedor' }, { emoji: 'üé®', text: 'Criativo' }, { emoji: 'üëë', text: 'Confiante' } ] }, { text: "Onde est√° seu foco criativo neste momento?", options: [ { emoji: 'üå∏', text: 'Na Beleza Simples' }, { emoji: 'üìñ', text: 'Em Ideias' }, { emoji: 'ü§°', text: 'No Humor' }, { emoji: 'üé®', text: 'Na Cria√ß√£o' } ] }, { text: "Que motiva√ß√£o externa voc√™ busca hoje?", options: [ { emoji: 'üß≠', text: 'Novos Horizontes' }, { emoji: 'üíÄ', text: 'Mudar o Sistema' }, { emoji: 'ü§ù', text: 'Ajudar Algu√©m' }, { emoji: 'üëë', text: 'Sucesso' } ] }, { text: "Qual abordagem de tema lhe atrai mais agora?", options: [ { emoji: 'üõ°Ô∏è', text: 'Jornada de Supera√ß√£o' }, { emoji: 'üîÆ', text: 'Mist√©rios' }, { emoji: 'üë•', text: 'Dia a Dia' }, { emoji: '‚ù§Ô∏è', text: 'Relacionamentos' } ] }, { text: "Que tipo de brincadeira ou desafio te anima?", options: [ { emoji: 'üå∏', text: 'Algo Leve' }, { emoji: 'üß≠', text: 'Uma Expedi√ß√£o' }, { emoji: 'üîÆ', text: 'Um Truque' }, { emoji: 'ü§°', text: 'Uma Pegadinha' } ] }, { text: "Que perspectiva voc√™ quer oferecer ao p√∫blico?", options: [ { emoji: 'üìñ', text: 'Sabedoria' }, { emoji: 'üíÄ', text: 'Vis√£o Cr√≠tica' }, { emoji: 'ü§ù', text: 'Apoio' }, { emoji: '‚ù§Ô∏è', text: 'Intensidade' } ] }, { text: "Que estilo visual voc√™ gostaria de explorar?", options: [ { emoji: 'üé®', text: 'Art√≠stico' }, { emoji: 'üëë', text: 'Elegante' }, { emoji: 'üõ°Ô∏è', text: '√âpico' }, { emoji: 'üë•', text: 'Aut√™ntico' } ] } ];
        let scores = {};
        let answeredQuestions = 0;

        function initializeQuiz() {
            Object.values(archetypeMap).forEach(archetype => { scores[archetype] = 0; });
            answeredQuestions = 0;
            const questionsContainer = document.getElementById('questions-container');
            questionsContainer.innerHTML = '';
            questions.forEach((q, index) => {
                const card = document.createElement('div'); card.className = 'question-card'; card.id = `question-${index}`;
                const questionText = document.createElement('h3'); questionText.className = 'text-xl font-bold text-gray-800 text-center'; questionText.textContent = `${index + 1}. ${q.text}`; card.appendChild(questionText);
                const optionsDiv = document.createElement('div'); optionsDiv.className = 'question-options mt-6 flex flex-wrap justify-center items-center'; card.appendChild(optionsDiv);
                q.options.forEach(option => { const button = document.createElement('button'); button.className = 'option-btn'; button.innerHTML = `<span class="emoji">${option.emoji}</span><span class="text">${option.text}</span>`; button.onclick = () => selectAnswer(index, option.emoji, button); optionsDiv.appendChild(button); });
                questionsContainer.appendChild(card);
            });
            updateProgress();
            document.getElementById('result-modal').classList.add('hidden'); document.getElementById('result-modal').classList.remove('flex');
            const modalWrapper = document.getElementById('modal-content-wrapper'); modalWrapper.classList.add('scale-95', 'opacity-0');
        }

        function selectAnswer(questionIndex, emoji, selectedButton) {
            const questionCard = document.getElementById(`question-${questionIndex}`);
            if (questionCard.classList.contains('answered')) return;
            questionCard.classList.add('answered');
            answeredQuestions++;
            scores[archetypeMap[emoji]]++;
            const buttons = questionCard.querySelectorAll('.option-btn');
            buttons.forEach(btn => { btn.classList.add('answered'); if (btn === selectedButton) { btn.classList.add('selected'); } });
            const nextQuestion = document.getElementById(`question-${questionIndex + 1}`);
            if(nextQuestion) { setTimeout(() => { nextQuestion.scrollIntoView({ behavior: 'smooth', block: 'center' }); }, 300); }
            updateProgress();
        }

        function updateProgress() {
            const submitBtn = document.getElementById('submit-btn'); const progressText = document.getElementById('progress-text');
            if (answeredQuestions === questions.length) {
                submitBtn.disabled = false; progressText.textContent = 'Tudo pronto! Clique para ver seu resultado!'; progressText.classList.add('text-green-600', 'font-bold');
            } else {
                submitBtn.disabled = true; progressText.textContent = `Responda mais ${questions.length - answeredQuestions} pergunta(s) para liberar.`; progressText.classList.remove('text-green-600', 'font-bold');
            }
        }

        function handleResults() {
            let maxScore = 0; let winners = [];
            for (const archetype in scores) {
                if (scores[archetype] > maxScore) { maxScore = scores[archetype]; winners = [archetype]; }
                else if (scores[archetype] === maxScore && maxScore > 0) { winners.push(archetype); }
            }

            if (winners.length === 1) {
                displayFinalResult(winners[0], false);
                return;
            }

            // --- TIE-BREAKER LOGIC ---
            const helpers = Object.entries(scores).filter(([name, score]) => score > 0 && !winners.includes(name)).sort((a, b) => b[1] - a[1]);
            let tieBroken = false;
            for (const [helperName, _] of helpers) {
                let neighborOfCount = 0;
                let lastNeighborFound = null;
                for(const winner of winners) {
                    if (proximityMap[winner].includes(helperName)) {
                        neighborOfCount++;
                        lastNeighborFound = winner;
                    }
                }
                if (neighborOfCount === 1) {
                    scores[lastNeighborFound]++; // Transfer point
                    tieBroken = true;
                    displayFinalResult(lastNeighborFound, false);
                    break;
                }
            }
            
            if (!tieBroken) {
                 if (winners.length > 0) {
                    displayBonusQuestion(winners);
                } else {
                    // Handle case with no points at all
                    displayFinalResult(Object.keys(archetypeMap)[0], true);
                }
            }
        }
        
        function displayBonusQuestion(tiedArchetypes) {
            document.getElementById('final-result-view').classList.add('hidden');
            const bonusView = document.getElementById('bonus-question-view');
            const bonusOptionsContainer = document.getElementById('bonus-options-container');
            bonusOptionsContainer.innerHTML = '';

            tiedArchetypes.forEach(archetype => {
                const emoji = Object.keys(archetypeMap).find(key => archetypeMap[key] === archetype);
                const button = document.createElement('button');
                // The 'option-btn' class provides the structure, 'bonus-btn' adds the high-contrast styling
                button.className = 'option-btn bonus-btn w-36';
                // Using white text classes with opacity for the subtitle for better contrast
                button.innerHTML = `<span class="emoji">${emoji}</span><span class="text font-bold text-white">${archetype}<br><em class="font-normal text-xs text-white/90">${briefDescriptions[archetype]}</em></span>`;
                button.onclick = () => {
                    scores[archetype]++;
                    displayFinalResult(archetype, true);
                };
                bonusOptionsContainer.appendChild(button);
            });

            bonusView.classList.remove('hidden');
            openModal();
        }

        function displayFinalResult(finalArchetype, wasTie) {
            document.getElementById('bonus-question-view').classList.add('hidden');
            const finalView = document.getElementById('final-result-view');
            
            const finalEmoji = Object.keys(archetypeMap).find(key => archetypeMap[key] === finalArchetype);
            document.getElementById('archetype-title').textContent = finalArchetype;
            document.getElementById('archetype-emoji').textContent = finalEmoji;
            document.getElementById('archetype-description').textContent = descriptions[finalArchetype];
            document.getElementById('tie-note').classList.toggle('hidden', !wasTie);

            const scoreDetailsContainer = document.getElementById('score-details');
            scoreDetailsContainer.innerHTML = '';
            const sortedScores = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            sortedScores.forEach(([archetype, score]) => {
                const scoreLine = document.createElement('div');
                scoreLine.innerHTML = `<strong class="${score > 0 ? 'text-indigo-600' : ''}">${archetype}:</strong> ${score} ponto(s)`;
                scoreDetailsContainer.appendChild(scoreLine);
            });

            finalView.classList.remove('hidden');
            openModal();
        }

        function openModal() {
            const modal = document.getElementById('result-modal');
            const modalWrapper = document.getElementById('modal-content-wrapper');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            setTimeout(() => { modalWrapper.classList.remove('scale-95', 'opacity-0'); }, 50);
        }

        function restartQuiz() {
            initializeQuiz();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.getElementById('submit-btn').addEventListener('click', handleResults);
        window.onload = initializeQuiz;
    </script>
</body>
</html>
